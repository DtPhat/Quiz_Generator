{"ast":null,"code":"import _slicedToArray from\"c:/React/Quiz_Generator/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Quiz from\"./Quiz.js\";import{nanoid}from\"nanoid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function(props){var _React$useState=React.useState(-1),_React$useState2=_slicedToArray(_React$useState,2),correctAnswerCounter=_React$useState2[0],setcorrectAnswerCounter=_React$useState2[1];var _React$useState3=React.useState(genDefaultAnsersArr()),_React$useState4=_slicedToArray(_React$useState3,2),selectedAnswers=_React$useState4[0],setSelectedAnswers=_React$useState4[1];function genDefaultAnsersArr(){var defaultAnswersArr=new Array(props.quizList.length);defaultAnswersArr.fill(-1);return defaultAnswersArr;}function handleAnswerSelection(selectedPos,index){var newArray=selectedAnswers.slice();newArray.splice(index,1,selectedPos);setSelectedAnswers(newArray);}var quizElement=props.quizList.map(function(quizItem,index){return/*#__PURE__*/_jsx(Quiz,{showResult:correctAnswerCounter>=0,quizPos:index,handleAnswerSelection:handleAnswerSelection,question:quizItem.question,answerList:quizItem.answerList,selectedPos:selectedAnswers[index],correctPos:quizItem.correctPos},nanoid());});function handleSubmission(){var countingArr=selectedAnswers.filter(function(answer,i){return answer===props.quizList[i].correctPos;});setcorrectAnswerCounter(countingArr.length);}function handleQuizData(){props.setQuizAgain(function(prevState){return!prevState;});setcorrectAnswerCounter(-1);setSelectedAnswers(genDefaultAnsersArr());}return/*#__PURE__*/_jsxs(\"div\",{className:\"quizList\",children:[quizElement,correctAnswerCounter>=0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"result-text\",children:[\"You scored \",correctAnswerCounter,\" / \",props.quizList.length,\" correct answer\",correctAnswerCounter>1?\"s\":\"\",\". \"]}),/*#__PURE__*/_jsx(\"button\",{className:\"quizAgain-button\",onClick:handleQuizData,children:\"Play Again\"})]}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-button\",onClick:handleSubmission,children:\"Check answer\"})})]});}","map":{"version":3,"names":["React","Quiz","nanoid","props","useState","correctAnswerCounter","setcorrectAnswerCounter","genDefaultAnsersArr","selectedAnswers","setSelectedAnswers","defaultAnswersArr","Array","quizList","length","fill","handleAnswerSelection","selectedPos","index","newArray","slice","splice","quizElement","map","quizItem","question","answerList","correctPos","handleSubmission","countingArr","filter","answer","i","handleQuizData","setQuizAgain","prevState"],"sources":["c:/React/Quiz_Generator/src/components/QuizList.js"],"sourcesContent":["import React from \"react\";\r\nimport Quiz from \"./Quiz.js\"\r\nimport { nanoid } from \"nanoid\"\r\nexport default function (props) {\r\n    const [correctAnswerCounter, setcorrectAnswerCounter] = React.useState(-1)\r\n    const [selectedAnswers, setSelectedAnswers] = React.useState(genDefaultAnsersArr())\r\n    function genDefaultAnsersArr() {\r\n        const defaultAnswersArr = new Array(props.quizList.length)\r\n        defaultAnswersArr.fill(-1)\r\n        return defaultAnswersArr\r\n    }\r\n    function handleAnswerSelection(selectedPos, index) {\r\n        const newArray = selectedAnswers.slice()\r\n        newArray.splice(index, 1, selectedPos)\r\n        setSelectedAnswers(newArray)\r\n    }\r\n\r\n\r\n    const quizElement = props.quizList.map((quizItem, index) => {\r\n        return (<Quiz\r\n            key={nanoid()}\r\n            showResult={correctAnswerCounter >= 0}\r\n            quizPos={index}\r\n            handleAnswerSelection={handleAnswerSelection}\r\n            question={quizItem.question}\r\n            answerList={quizItem.answerList}\r\n            selectedPos={selectedAnswers[index]}\r\n            correctPos={quizItem.correctPos}\r\n        />)\r\n    })\r\n\r\n\r\n    function handleSubmission() {\r\n        const countingArr = selectedAnswers.filter((answer, i) => answer === props.quizList[i].correctPos)\r\n        setcorrectAnswerCounter(countingArr.length)\r\n    }\r\n\r\n\r\n    function handleQuizData() {\r\n        props.setQuizAgain(prevState => !prevState)\r\n        setcorrectAnswerCounter(-1);\r\n        setSelectedAnswers(genDefaultAnsersArr())\r\n    }\r\n    return (\r\n        <div className=\"quizList\">\r\n            {quizElement}\r\n            {correctAnswerCounter >= 0 ?\r\n                <div>\r\n                    <span className=\"result-text\">You scored {correctAnswerCounter} / {props.quizList.length} correct answer{correctAnswerCounter > 1 ? \"s\" : \"\"}. </span>\r\n                    <button className=\"quizAgain-button\" onClick={handleQuizData}>Play Again</button>\r\n                </div>\r\n                : <div>\r\n                    <button className=\"submit-button\" onClick={handleSubmission}>Check answer</button>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n"],"mappings":"6GAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,KAAP,KAAiB,WAAjB,CACA,OAASC,MAAT,KAAuB,QAAvB,C,wFACA,cAAe,UAAUC,KAAV,CAAiB,CAC5B,oBAAwDH,KAAK,CAACI,QAAN,CAAe,CAAC,CAAhB,CAAxD,oDAAOC,oBAAP,qBAA6BC,uBAA7B,qBACA,qBAA8CN,KAAK,CAACI,QAAN,CAAeG,mBAAmB,EAAlC,CAA9C,qDAAOC,eAAP,qBAAwBC,kBAAxB,qBACA,QAASF,oBAAT,EAA+B,CAC3B,GAAMG,kBAAiB,CAAG,GAAIC,MAAJ,CAAUR,KAAK,CAACS,QAAN,CAAeC,MAAzB,CAA1B,CACAH,iBAAiB,CAACI,IAAlB,CAAuB,CAAC,CAAxB,EACA,MAAOJ,kBAAP,CACH,CACD,QAASK,sBAAT,CAA+BC,WAA/B,CAA4CC,KAA5C,CAAmD,CAC/C,GAAMC,SAAQ,CAAGV,eAAe,CAACW,KAAhB,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgBH,KAAhB,CAAuB,CAAvB,CAA0BD,WAA1B,EACAP,kBAAkB,CAACS,QAAD,CAAlB,CACH,CAGD,GAAMG,YAAW,CAAGlB,KAAK,CAACS,QAAN,CAAeU,GAAf,CAAmB,SAACC,QAAD,CAAWN,KAAX,CAAqB,CACxD,mBAAQ,KAAC,IAAD,EAEJ,UAAU,CAAEZ,oBAAoB,EAAI,CAFhC,CAGJ,OAAO,CAAEY,KAHL,CAIJ,qBAAqB,CAAEF,qBAJnB,CAKJ,QAAQ,CAAEQ,QAAQ,CAACC,QALf,CAMJ,UAAU,CAAED,QAAQ,CAACE,UANjB,CAOJ,WAAW,CAAEjB,eAAe,CAACS,KAAD,CAPxB,CAQJ,UAAU,CAAEM,QAAQ,CAACG,UARjB,EACCxB,MAAM,EADP,CAAR,CAUH,CAXmB,CAApB,CAcA,QAASyB,iBAAT,EAA4B,CACxB,GAAMC,YAAW,CAAGpB,eAAe,CAACqB,MAAhB,CAAuB,SAACC,MAAD,CAASC,CAAT,QAAeD,OAAM,GAAK3B,KAAK,CAACS,QAAN,CAAemB,CAAf,EAAkBL,UAA5C,EAAvB,CAApB,CACApB,uBAAuB,CAACsB,WAAW,CAACf,MAAb,CAAvB,CACH,CAGD,QAASmB,eAAT,EAA0B,CACtB7B,KAAK,CAAC8B,YAAN,CAAmB,SAAAC,SAAS,QAAI,CAACA,SAAL,EAA5B,EACA5B,uBAAuB,CAAC,CAAC,CAAF,CAAvB,CACAG,kBAAkB,CAACF,mBAAmB,EAApB,CAAlB,CACH,CACD,mBACI,aAAK,SAAS,CAAC,UAAf,WACKc,WADL,CAEKhB,oBAAoB,EAAI,CAAxB,cACG,oCACI,cAAM,SAAS,CAAC,aAAhB,yBAA0CA,oBAA1C,OAAmEF,KAAK,CAACS,QAAN,CAAeC,MAAlF,mBAAyGR,oBAAoB,CAAG,CAAvB,CAA2B,GAA3B,CAAiC,EAA1I,QADJ,cAEI,eAAQ,SAAS,CAAC,kBAAlB,CAAqC,OAAO,CAAE2B,cAA9C,wBAFJ,GADH,cAKK,kCACE,eAAQ,SAAS,CAAC,eAAlB,CAAkC,OAAO,CAAEL,gBAA3C,0BADF,EAPV,GADJ,CAcH"},"metadata":{},"sourceType":"module"}